
<link rel="import" href="../../bower_components/polymer/polymer.html">
<script src="https://code.jquery.com/jquery-2.1.4.js"></script>


<dom-module id="htwg-container-frame">

  <style>
    :host([active]) {
      height: 100vh;
    	width: 100vw;
    	transition: height 2s;
    	display: block;
    }
	  :host {
	  	height: 0px;
	  }
    .contentclass{
      position: relative;
      top: 10vh;
    }
  	.backgroundArea{
  		background: #2ECCFA;
  		height: inherit;
  		overflow: hidden;
  	}
  	.closecontainer{
  		position: absolute;
  		right: 5vw;
  	}
  </style>

  <template>
  			<content></content>
  </template>

</dom-module>

<script>
  Polymer({
    is: 'htwg-container-frame',

    properties: {
      activeId: {
        type: String,
        value: "",
    		reflectToAttribute: true,
    		notify: true,
        observer: "_activeChanged"
      }
    },
    _activeChanged: function(obj){
      console.log("active changedoo");
      if(this.activeId != "") {
        document.getElementById(this.activeId).active = false;
      }
      containers = document.getElementsByTagName("htwg-window-container");
      var lastIdx;
      var idx;
      for(i = 0; i < containers.length; i++) {
        if(obj.id == containers[i]) {
          idx = i;
        } else if(this.activeId == containers[i]) {
          lastIdx = i;
        }
      }
      if(idx < lastIdx) {
          var target = obj.id;
          var $target = $(target);

          $('html, body').stop().animate({
              'scrollTop': $target.offset().top
          }, 900, 'swing', function () {
              window.location.hash = target;
          });
      }

    }
  
  });
</script>